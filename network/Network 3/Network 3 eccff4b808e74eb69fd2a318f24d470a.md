# Network 3.

---

혼공 Network

---

# 네트워크 계층

## 3-1 LAN을 넘어서는 네트워크 계층

LAN이 아닌 다른 네트워크들과 통신하려면 네트워크 계층의 역할이 필수적임

물리 계층과 데이터 링크 계층만으론 지구 반대편 까지 패킷을 보내기엔 무리다.

1. **다른 네트워크까지의 도달 경로를 파악하기 어려움**
    
    다른 네트워크 까지 가려면 다양한 네트워크 장비와 경로를 거쳐야함
    
    최적의 경로를 결정하는 것을 `라우팅` 이라고 함
    
    이를 해주는 것이 네트워크 계층의 `라우터` 임
    
2. **MAC 주소만으론 모든 네트워크에 속한 호스트를 특정하기 어려움**
    
    예를들어 옷가게에서 데님 숏팬츠를 산다고 치자
    
    그러면 바지 코너에 가서 청바지 행거를 찾는다. 분류가 잘되어있으니까 찾기 쉽다.
    
    근데 동묘 시장에 널부러진 옷더미에 찾기는 어려울 것이다.
    
    브루트포스마냥 처음부터 끝까지 탐색해야할것이다…
    
    그래서 바지 코너의 청바지 행거처럼 `IP 주소` 를 사용한다.
    
    MAC 주소가 데님 숏팬츠라고 생각하면 편하다
    
    MAC 주소가 물리 주소고, IP 주소가 논리 주소다.
    
    IP는 DHCP 프로토콜로 호스트에 자동으로 할당하거나 직접 할 수 있음
    

### 인터넷 프로토콜

인터넷 프로토콜 = IP

IPv4, IPv6 두버전이 있는데 흔히 IP 주소라고 하면 v4인 경우가 대다수

`192.168.1.1`

4바이트, 자리당 8비트로 표현 → 0~255 범위의 4개의 10진수로 표기

IP 주소 지정 : IP 주소를 바탕으로 송수신 대상을 지정

IP 단편화 : 전송하고자 하는 패킷의 크기가 MTU(최대 전송 단위)보다 클 경구 복수의 패킷으로 나누는 것

MTU : 한번에 전송 가능한 IP 패킷의 최대 크기. 일반적으로 1500바이트

- IPv4
    
    IPv4 패킷은 프레임에 페이로드로 데이터 필드에 명시됨
    
    [버전, 헤더길이, 패킷길이, 식별자, 플래그, 단편화 오프셋, TTL, 프로토콜, 헤더 체크섬, 송신지 IP, 수신지 IP, 옵션, 패딩, 데이터]
    
    로 구성되어있다.